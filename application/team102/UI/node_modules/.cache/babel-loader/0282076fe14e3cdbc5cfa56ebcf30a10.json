{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Antwong\\\\Documents\\\\temp\\\\csc648-03-sp20-team102\\\\application\\\\team102\\\\UI\\\\src\\\\Component\\\\create-fooddata.component.js\";\nimport React, { Component } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport MediaHandler from './MediaHandler';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport axios from \"axios\";\nimport cam from \"./cameraIcon.svg\";\nimport { FormGroup, Label, Form, Input, Button, ButtonGroup, Row, Col } from \"reactstrap\";\nconst gatewayUrl = process.env.gatewayUrl || 'http://localhost:3004';\n\nconst fillForm = props => {\n  return React.createElement(Form, {\n    onSubmit: this.onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, React.createElement(Input, {\n    value: props.foodname,\n    selected: props.newI.description,\n    onChange: props.onChangeFoodname,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  })), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(Label, {\n    for: \"ExpDate\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, \"Exp. Date:\"), React.createElement(DatePicker, {\n    required: true,\n    selected: props.expirationdate,\n    onChange: props.onChangeExpirationdate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }))), React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(Label, {\n    for: \"qty\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Quantity:\"), React.createElement(Input, {\n    type: \"select\",\n    style: {\n      height: 'auto',\n      width: 'auto'\n    },\n    value: props.numberOfItems,\n    selected: props.newI.quantity,\n    onChange: props.onChangeNumberOfItems,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"1\"), React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"2\"), React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"3\"), React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"3\"), React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"5\"), React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"6\"), React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"7\"), React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"8\"), React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"9\"), React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"10\"), React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"11\"), React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"12\"))))), React.createElement(Button, {\n    className: \"form-control input\",\n    type: \"submit\",\n    value: \"Create food\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \" Add Item \"));\n};\n\nexport default class Create extends Component {\n  constructor(props) {\n    super(props);\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    this.onChangeFoodname = this.onChangeFoodname.bind(this);\n    this.onChangeExpirationdate = this.onChangeExpirationdate.bind(this);\n    this.onChangeCalories = this.onChangeCalories.bind(this);\n    this.onChangeCarbs = this.onChangeCarbs.bind(this);\n    this.onChangeNumberOfItems = this.onChangeNumberOfItems.bind(this);\n    this.onChangeSugar = this.onChangeSugar.bind(this);\n    this.onChangeFat = this.onChangeFat.bind(this);\n    this.onChangeProtein = this.onChangeProtein.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.mediaHandler = new MediaHandler();\n    this.state = {\n      foodname: \"\",\n      expirationdate: new Date(),\n      calories: \"\",\n      numberOfItems: \"1\",\n      carbs: \"\",\n      sugar: \"\",\n      fat: \"\",\n      protein: \"\",\n      sodium: \"\",\n      foods: [],\n      userdata: [],\n      addList: [],\n      password: params.password,\n      username: params.id,\n      count: 0,\n      hasMedia: false,\n      imageString: \"\",\n      rawData: [],\n      pop: false\n    };\n  } // change activations for prop states\n\n\n  onChangeFoodname(e) {\n    this.setState({\n      foodname: e.target.value\n    });\n  }\n\n  onChangeExpirationdate(date) {\n    this.setState({\n      expirationdate: date\n    });\n  }\n\n  onChangeCalories(e) {\n    this.setState({\n      calories: e\n    });\n  }\n\n  onChangeNumberOfItems(e) {\n    this.setState({\n      numberOfItems: e.target.value\n    });\n  }\n\n  onChangeCarbs(e) {\n    this.setState({\n      carbs: e\n    });\n  }\n\n  onChangeSugar(e) {\n    this.setState({\n      sugar: e\n    });\n  }\n\n  onChangeFat(e) {\n    this.setState({\n      fat: e\n    });\n  }\n\n  onChangeProtein(e) {\n    this.setState({\n      protein: e\n    });\n  }\n\n  onChangeSodium(e) {\n    this.setState({\n      sodium: e\n    });\n  }\n\n  toInv() {\n    // only things passed to the final list is allowed\n    this.state.addList.map(item => {\n      axios\n      /* Searches food name param in Api returns all types matching\r\n       * foods -> array going to be loaded with first result info\r\n       * has all nutrition facts\r\n       */\n      .get(\"https://api.nal.usda.gov/fdc/v1/foods/search?api_key=ldLF1ky8NkwmcLnTDvqDoSjul1eanGZ1o6vZ2Q9u&query=\" + this.state.foodname).then(response => {\n        console.log(response.data.foods[0].foodNutrients[0]);\n        this.setState({\n          foods: response.data.foods[0].foodNutrients\n        });\n        /* Searches array for matching nutrient name, only exact \r\n         * calls funct to change value once found\r\n         */\n\n        this.state.foods.map(currentfood => {\n          console.log(currentfood.nutrientName, currentfood.value);\n          console.log(currentfood.value);\n\n          if (currentfood.nutrientName === 'Energy') {\n            this.onChangeCalories(Math.round(currentfood.value));\n          } else if (currentfood.nutrientName === 'Carbohydrate, by difference') {\n            this.onChangeCarbs(Math.round(currentfood.value));\n          } else if (currentfood.nutrientName === 'Total lipid (fat)') {\n            this.onChangeFat(Math.round(currentfood.value));\n          } else if (currentfood.nutrientName === 'Protein') {\n            this.onChangeProtein(Math.round(currentfood.value));\n          } else if (currentfood.nutrientName === 'Sugars, total including NLEA') {\n            this.onChangeSugar(Math.round(currentfood.value));\n          } else if (currentfood.nutrientName === 'Sodium, Na') {\n            this.onChangeSodium(Math.round(currentfood.value));\n          }\n\n          return null;\n        });\n        /* adds all values into a temp list\r\n         * sends to backend to be added to personal id food list\r\n         */\n\n        const food = {\n          foodName: item.foodname,\n          expirationDate: item.expdate,\n          calories: this.state.calories,\n          numOfItems: item.qty,\n          carbs: this.state.carbs,\n          protein: this.state.protein,\n          fat: this.state.fat,\n          sugar: this.state.sugar,\n          sodium: this.state.sodium\n        };\n        console.log(food);\n        this.onAddList();\n        axios.post(\"/fooddata/add\", food).then(res => console.log(res.data));\n      }).catch(error => {\n        console.log(error);\n      });\n    });\n    this.setState({\n      addList: []\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault(); //const date = (this.state.expirationdate.getMonth() + 1).toString() + \"/\" + (this.state.expirationdate.getDate()).toString() + \"/\" + (this.state.expirationdate.getFullYear()).toString();\n    //var list = this.state.addList.concat(this.state.foodname + \" \" + date+\" \"+ this.state.numberOfItems);\n    //console.log(this.state.expirationdate);\n\n    let list = {\n      foodName: \"\",\n      expdate: new Date(),\n      qty: \"1\"\n    };\n    list.foodName = this.state.foodName;\n    list.expdate = this.state.expirationdate;\n    list.qty = this.state.numberOfItems;\n    this.setState({\n      addList: [list, this.state.addList]\n    });\n  }\n  /*AddList() {//{(item.expdate.getMonth() + 1).toString() + \"/\" + (item.expdate.getDate()).toString() + \"/\" + (item.expdate.getFullYear()).toString()}\r\n    this.state.addList.map((item) => {\r\n        return (<Row>\r\n          <Col >{item.foodName}</Col> \r\n          <Col></Col>\r\n          <Col>{item.qty}</Col>\r\n        </Row>\r\n      )}\r\n    )\r\n  }*/\n\n  /*componentDidMount() {\r\n    this.mediaHandler.getPermissions()\r\n      .then((stream) => {\r\n        this.setState({ hasMedia: true });\r\n        try {\r\n          this.myVideo.srcObject = stream;\r\n        } catch (e) {\r\n          this.myVideo.src = URL.createObjectURL(stream);\r\n        }\r\n        this.myVideo.play();\r\n      })\r\n  }\r\n  captureImage = () => { // takes picture\r\n    console.log('inside captureImage function')\r\n    const context = this.canvas.getContext('2d');\r\n    context.drawImage(this.myVideo, 0, 0, 400, 350);\r\n    const image = this.canvas.toDataURL('image/jpeg', 0.5);\r\n    this.setState({ imageString: image });\r\n    this.processImage();\r\n  }\r\n  processImage = () => { // sends and grabs data\r\n    console.log('inside processImage function')\r\n    const url = 'http://localhost:3010/api/image/save';\r\n    const img = this.state.imageString;\r\n    if (img !== \"\") {\r\n      let formData = new FormData();\r\n      formData.set('file', img);\r\n      axios.post(url, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        this.setState({ rawData: res.data });\r\n        this.processData();\r\n      }).catch((e) => {\r\n        console.log(e)\r\n      });\r\n    }\r\n  }\r\n  processData = () => {// returns a array with description and qty\r\n    const processedData = [];\r\n    let hashKey = {};\r\n    this.state.rawData.forEach((item) => {\r\n      if (hashKey.hasOwnProperty(item)) {\r\n        hashKey[item] += 1;\r\n      } else {\r\n        hashKey[item] = 1;\r\n      }\r\n    });\r\n    Object.keys(hashKey).forEach((k) => {\r\n      let newItem = { description: \"\", quantity: 0 };\r\n      newItem.description = k;\r\n      newItem.quantity = hashKey[k];\r\n      processedData.push({ newItem });\r\n      /*processedData.push({\r\n        description: k,\r\n        quantity: hashKey[k]\r\n      })*/\n\n  /*    })\r\n      console.log(hashKey);\r\n      console.log(processedData);\r\n      this.setState({foods: processedData});\r\n    }\r\n    scan() {\r\n      return (\r\n        <div className=\"container\">\r\n          <div className=\"video-container\">\r\n            <video className=\"video\" width=\"400\" height=\"350\" ref={(ref) => { this.myVideo = ref; }}></video>\r\n          </div>\r\n          <Button id=\"capture\" onClick={this.captureImage}>Scan</Button>\r\n          <div className=\"image-container\">\r\n            <canvas ref={(canvas) => { this.canvas = canvas }} width='400' height='350' ></canvas>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    onScan() { // scanned submit form, name and qty should be filled in, expdate required\r\n      const { match: { params } } = this.props;\r\n      return this.state.foods.map(newI => {\r\n        return(\r\n          <fillForm onSubmit={this.onSubmit} newI={newI}/>\r\n        );\r\n      })\r\n    }*/\n\n\n  manualSubmit() {\n    return React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"foodName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \"Food Name:\"), React.createElement(Input, {\n      type: \"text\",\n      required: true,\n      placeholder: \"What Food Are You Looking For?\",\n      className: \"form-control\",\n      value: this.state.foodname,\n      onChange: this.onChangeFoodname,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    })), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"ExpDate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, \"Exp. Date:\"), React.createElement(DatePicker, {\n      required: true,\n      selected: this.state.expirationdate,\n      onChange: this.onChangeExpirationdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"qty\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, \"Quantity:\"), React.createElement(Input, {\n      type: \"select\",\n      style: {\n        height: 'auto',\n        width: 'auto'\n      },\n      value: this.state.numberOfItems,\n      onChange: this.onChangeNumberOfItems,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, \"1\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, \"2\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, \"3\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, \"3\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, \"5\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, \"6\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, \"7\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"8\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \"9\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, \"10\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, \"11\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, \"12\"))))), React.createElement(Button, {\n      size: \"lg\",\n      className: \"SignSpace form-control input\",\n      type: \"submit\",\n      value: \"Create food\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, \" Submit \"));\n  }\n\n  render() {\n    var inv = \"/inventory/\" + this.state.username + \"/\" + this.state.password;\n    return React.createElement(\"div\", {\n      style: {\n        height: \"100%\",\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, this.manualSubmit(), this.state.pop === true ? this.onScan() : \"\", React.createElement(ButtonGroup, {\n      size: \"lg\",\n      className: \"SignSpace\",\n      style: {\n        boxSizing: 'content-box',\n        position: \"fixed\",\n        right: \"-10vw\",\n        bottom: \"0px\",\n        display: \"flex\",\n        minWidth: \"100vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(Button, {\n      href: inv,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, \"Back\"), React.createElement(Button, {\n      onClick: () => this.toInv(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, \" Add List To Inventory\"), React.createElement(Button, {\n      href: \"/scan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, \"Scan\")), React.createElement(\"div\", {\n      style: {\n        top: \"300px\",\n        height: \"100%\",\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }));\n  }\n\n}\n/**\r\n *{this.AddList()}\r\n *\r\n */","map":{"version":3,"sources":["C:/Users/Antwong/Documents/temp/csc648-03-sp20-team102/application/team102/UI/src/Component/create-fooddata.component.js"],"names":["React","Component","DatePicker","MediaHandler","axios","FormGroup","Label","Form","Input","Button","ButtonGroup","Row","Col","gatewayUrl","process","env","fillForm","props","onSubmit","foodname","newI","description","onChangeFoodname","expirationdate","onChangeExpirationdate","height","width","numberOfItems","quantity","onChangeNumberOfItems","Create","constructor","match","params","bind","onChangeCalories","onChangeCarbs","onChangeSugar","onChangeFat","onChangeProtein","mediaHandler","state","Date","calories","carbs","sugar","fat","protein","sodium","foods","userdata","addList","password","username","id","count","hasMedia","imageString","rawData","pop","e","setState","target","value","date","onChangeSodium","toInv","map","item","get","then","response","console","log","data","foodNutrients","currentfood","nutrientName","Math","round","food","foodName","expirationDate","expdate","numOfItems","qty","onAddList","post","res","catch","error","preventDefault","list","manualSubmit","render","inv","onScan","boxSizing","position","right","bottom","display","minWidth","top"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport MediaHandler from './MediaHandler';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport axios from \"axios\";\r\nimport cam from \"./cameraIcon.svg\"\r\nimport { FormGroup, Label, Form, Input, Button, ButtonGroup, Row, Col } from \"reactstrap\";\r\nconst gatewayUrl = process.env.gatewayUrl || 'http://localhost:3004';\r\n\r\nconst fillForm = props => {\r\n  return (\r\n    <Form onSubmit={this.onSubmit}>\r\n      <FormGroup >\r\n        <Input\r\n          value={props.foodname}\r\n          selected={props.newI.description}\r\n          onChange={props.onChangeFoodname} />\r\n      </FormGroup>\r\n      <Row>\r\n        <Col >\r\n          <FormGroup>\r\n            <Label for=\"ExpDate\">Exp. Date:</Label>\r\n            <DatePicker\r\n              required\r\n              selected={props.expirationdate}\r\n              onChange={props.onChangeExpirationdate} />\r\n          </FormGroup>\r\n        </Col>\r\n        <Col >\r\n          <FormGroup>\r\n            <Label for=\"qty\">Quantity:</Label>\r\n            <Input\r\n              type=\"select\"\r\n              style={{ height: 'auto', width: 'auto' }}\r\n              value={props.numberOfItems}\r\n              selected={props.newI.quantity}\r\n              onChange={props.onChangeNumberOfItems}>\r\n              <option>1</option>\r\n              <option>2</option>\r\n              <option>3</option>\r\n              <option>3</option>\r\n              <option>5</option>\r\n              <option>6</option>\r\n              <option>7</option>\r\n              <option>8</option>\r\n              <option>9</option>\r\n              <option>10</option>\r\n              <option>11</option>\r\n              <option>12</option>\r\n            </Input>\r\n          </FormGroup>\r\n        </Col>\r\n      </Row>\r\n      <Button className=\"form-control input\" type=\"submit\" value=\"Create food\"> Add Item </Button>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default class Create extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { match: { params } } = this.props;\r\n    this.onChangeFoodname = this.onChangeFoodname.bind(this);\r\n    this.onChangeExpirationdate = this.onChangeExpirationdate.bind(this);\r\n    this.onChangeCalories = this.onChangeCalories.bind(this);\r\n    this.onChangeCarbs = this.onChangeCarbs.bind(this);\r\n    this.onChangeNumberOfItems = this.onChangeNumberOfItems.bind(this);\r\n    this.onChangeSugar = this.onChangeSugar.bind(this);\r\n    this.onChangeFat = this.onChangeFat.bind(this);\r\n    this.onChangeProtein = this.onChangeProtein.bind(this);\r\n    \r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.mediaHandler = new MediaHandler();\r\n    this.state = {\r\n      foodname: \"\",\r\n      expirationdate: new Date(),\r\n      calories: \"\",\r\n      numberOfItems: \"1\",\r\n      carbs: \"\",\r\n      sugar: \"\",\r\n      fat: \"\",\r\n      protein: \"\",\r\n      sodium: \"\",\r\n      foods: [],\r\n      userdata: [],\r\n      addList: [],\r\n      password: params.password,\r\n      username: params.id,\r\n      count: 0,\r\n      hasMedia: false,\r\n      imageString: \"\",\r\n      rawData: [],\r\n      pop: false,\r\n    };\r\n  }\r\n  // change activations for prop states\r\n  onChangeFoodname(e) { this.setState({ foodname: e.target.value }); }\r\n  onChangeExpirationdate(date) { this.setState({ expirationdate: date }); }\r\n  onChangeCalories(e) { this.setState({ calories: e }); }\r\n  onChangeNumberOfItems(e) { this.setState({ numberOfItems: e.target.value }); }\r\n  onChangeCarbs(e) { this.setState({ carbs: e }); }\r\n  onChangeSugar(e) { this.setState({ sugar: e }); }\r\n  onChangeFat(e) { this.setState({ fat: e }); }\r\n  onChangeProtein(e) { this.setState({ protein: e }); }\r\n  onChangeSodium(e) { this.setState({ sodium: e }); }\r\n      \r\n  toInv() { // only things passed to the final list is allowed\r\n    this.state.addList.map(item => {\r\n      axios\r\n        /* Searches food name param in Api returns all types matching\r\n         * foods -> array going to be loaded with first result info\r\n         * has all nutrition facts\r\n         */\r\n        .get(\"https://api.nal.usda.gov/fdc/v1/foods/search?api_key=ldLF1ky8NkwmcLnTDvqDoSjul1eanGZ1o6vZ2Q9u&query=\" + this.state.foodname)\r\n        .then(response => {\r\n          console.log(response.data.foods[0].foodNutrients[0]);\r\n          this.setState({\r\n            foods: response.data.foods[0].foodNutrients\r\n          });\r\n          /* Searches array for matching nutrient name, only exact \r\n           * calls funct to change value once found\r\n           */\r\n          this.state.foods.map(currentfood => {\r\n            console.log(currentfood.nutrientName, currentfood.value);\r\n            console.log(currentfood.value);\r\n            if (currentfood.nutrientName === 'Energy') {\r\n              this.onChangeCalories(Math.round(currentfood.value));\r\n            } else if (currentfood.nutrientName === 'Carbohydrate, by difference') {\r\n              this.onChangeCarbs(Math.round(currentfood.value));\r\n            } else if (currentfood.nutrientName === 'Total lipid (fat)') {\r\n              this.onChangeFat(Math.round(currentfood.value));\r\n            } else if (currentfood.nutrientName === 'Protein') {\r\n              this.onChangeProtein(Math.round(currentfood.value));\r\n            } else if (currentfood.nutrientName === 'Sugars, total including NLEA') {\r\n              this.onChangeSugar(Math.round(currentfood.value));\r\n            } else if (currentfood.nutrientName === 'Sodium, Na') {\r\n              this.onChangeSodium(Math.round(currentfood.value));\r\n            } return (null);\r\n          })\r\n          /* adds all values into a temp list\r\n           * sends to backend to be added to personal id food list\r\n           */\r\n          const food = {\r\n            foodName: item.foodname,\r\n            expirationDate: item.expdate,\r\n            calories: this.state.calories,\r\n            numOfItems: item.qty,\r\n            carbs: this.state.carbs,\r\n            protein: this.state.protein,\r\n            fat: this.state.fat,\r\n            sugar: this.state.sugar,\r\n            sodium: this.state.sodium\r\n          };\r\n          console.log(food);\r\n          this.onAddList();\r\n          axios\r\n            .post(\"/fooddata/add\", food)\r\n            .then(res => console.log(res.data));\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    })\r\n    this.setState({ addList: [] });\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    //const date = (this.state.expirationdate.getMonth() + 1).toString() + \"/\" + (this.state.expirationdate.getDate()).toString() + \"/\" + (this.state.expirationdate.getFullYear()).toString();\r\n    //var list = this.state.addList.concat(this.state.foodname + \" \" + date+\" \"+ this.state.numberOfItems);\r\n    //console.log(this.state.expirationdate);\r\n    let list = { foodName: \"\", expdate: new Date(), qty: \"1\" };\r\n    list.foodName = this.state.foodName;\r\n    list.expdate = this.state.expirationdate;\r\n    list.qty = this.state.numberOfItems;\r\n    this.setState({ addList: [list, this.state.addList] });\r\n  }\r\n  /*AddList() {//{(item.expdate.getMonth() + 1).toString() + \"/\" + (item.expdate.getDate()).toString() + \"/\" + (item.expdate.getFullYear()).toString()}\r\n    this.state.addList.map((item) => {\r\n        return (<Row>\r\n          <Col >{item.foodName}</Col> \r\n          <Col></Col>\r\n          <Col>{item.qty}</Col>\r\n        </Row>\r\n      )}\r\n    )\r\n  }*/\r\n  /*componentDidMount() {\r\n    this.mediaHandler.getPermissions()\r\n      .then((stream) => {\r\n        this.setState({ hasMedia: true });\r\n        try {\r\n          this.myVideo.srcObject = stream;\r\n        } catch (e) {\r\n          this.myVideo.src = URL.createObjectURL(stream);\r\n        }\r\n        this.myVideo.play();\r\n      })\r\n  }\r\n  captureImage = () => { // takes picture\r\n    console.log('inside captureImage function')\r\n    const context = this.canvas.getContext('2d');\r\n    context.drawImage(this.myVideo, 0, 0, 400, 350);\r\n    const image = this.canvas.toDataURL('image/jpeg', 0.5);\r\n    this.setState({ imageString: image });\r\n    this.processImage();\r\n  }\r\n  processImage = () => { // sends and grabs data\r\n    console.log('inside processImage function')\r\n    const url = 'http://localhost:3010/api/image/save';\r\n    const img = this.state.imageString;\r\n    if (img !== \"\") {\r\n      let formData = new FormData();\r\n      formData.set('file', img);\r\n      axios.post(url, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        this.setState({ rawData: res.data });\r\n        this.processData();\r\n      }).catch((e) => {\r\n        console.log(e)\r\n      });\r\n    }\r\n  }\r\n  processData = () => {// returns a array with description and qty\r\n    const processedData = [];\r\n    let hashKey = {};\r\n    this.state.rawData.forEach((item) => {\r\n      if (hashKey.hasOwnProperty(item)) {\r\n        hashKey[item] += 1;\r\n      } else {\r\n        hashKey[item] = 1;\r\n      }\r\n    });\r\n    Object.keys(hashKey).forEach((k) => {\r\n      let newItem = { description: \"\", quantity: 0 };\r\n      newItem.description = k;\r\n      newItem.quantity = hashKey[k];\r\n      processedData.push({ newItem });\r\n      /*processedData.push({\r\n        description: k,\r\n        quantity: hashKey[k]\r\n      })*/\r\n/*    })\r\n    console.log(hashKey);\r\n    console.log(processedData);\r\n    this.setState({foods: processedData});\r\n  }\r\n  scan() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"video-container\">\r\n          <video className=\"video\" width=\"400\" height=\"350\" ref={(ref) => { this.myVideo = ref; }}></video>\r\n        </div>\r\n        <Button id=\"capture\" onClick={this.captureImage}>Scan</Button>\r\n        <div className=\"image-container\">\r\n          <canvas ref={(canvas) => { this.canvas = canvas }} width='400' height='350' ></canvas>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  onScan() { // scanned submit form, name and qty should be filled in, expdate required\r\n    const { match: { params } } = this.props;\r\n    return this.state.foods.map(newI => {\r\n      return(\r\n        <fillForm onSubmit={this.onSubmit} newI={newI}/>\r\n      );\r\n    })\r\n  }*/\r\n  manualSubmit () {\r\n    return(\r\n      <Form onSubmit={this.onSubmit}>        \r\n        <FormGroup >\r\n          <Label for=\"foodName\">Food Name:</Label>\r\n          <Input\r\n            type=\"text\"\r\n            required\r\n            placeholder=\"What Food Are You Looking For?\"\r\n            className=\"form-control\"\r\n            value={this.state.foodname}\r\n            onChange={this.onChangeFoodname} />\r\n        </FormGroup>\r\n        <Row> \r\n          <Col >\r\n            <FormGroup>\r\n              <Label for=\"ExpDate\">Exp. Date:</Label>\r\n              <DatePicker\r\n                required\r\n                selected={this.state.expirationdate}\r\n                onChange={this.onChangeExpirationdate} />\r\n            </FormGroup>\r\n          </Col> \r\n          <Col >\r\n            <FormGroup>\r\n              <Label for=\"qty\">Quantity:</Label>\r\n              <Input\r\n                type=\"select\"\r\n                style={{height: 'auto', width: 'auto'}}\r\n                value={this.state.numberOfItems}\r\n                onChange={this.onChangeNumberOfItems}>\r\n                <option>1</option>\r\n                <option>2</option>\r\n                <option>3</option>\r\n                <option>3</option>\r\n                <option>5</option>\r\n                <option>6</option>\r\n                <option>7</option>\r\n                <option>8</option>\r\n                <option>9</option>\r\n                <option>10</option>\r\n                <option>11</option>\r\n                <option>12</option>\r\n              </Input>\r\n            </FormGroup>\r\n          </Col>\r\n        </Row><Button size='lg' className=\"SignSpace form-control input\" type=\"submit\" value=\"Create food\"> Submit </Button>\r\n      </Form>\r\n    )\r\n  }    \r\n  render() {\r\n    var inv = \"/inventory/\" + this.state.username + \"/\" + this.state.password\r\n    return (<div style={{ height: \"100%\", width: \"100%\" }}>\r\n      {this.manualSubmit()}\r\n      {this.state.pop === true?this.onScan(): \"\"}\r\n      <ButtonGroup size='lg' className=\"SignSpace\"style={{ boxSizing: 'content-box', position: \"fixed\", right: \"-10vw\", bottom: \"0px\", display: \"flex\", minWidth: \"100vw\" }} >\r\n        <Button href={inv}>Back</Button>\r\n        <Button onClick={() => this.toInv()}> Add List To Inventory</Button>\r\n        <Button href=\"/scan\" >Scan</Button>\r\n      </ButtonGroup>\r\n\r\n      <div style={{ top: \"300px\", height: \"100%\", width: \"100%\" }}></div>\r\n\r\n    </div>\r\n    );\r\n  }\r\n}\r\n/**\r\n *{this.AddList()}\r\n *\r\n */"]},"metadata":{},"sourceType":"module"}