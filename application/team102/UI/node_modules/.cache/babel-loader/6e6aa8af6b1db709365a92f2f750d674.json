{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Antwong\\\\Documents\\\\temp\\\\csc648-03-sp20-team102\\\\application\\\\team102\\\\UI\\\\src\\\\Component\\\\addRecipe.js\";\nimport React, { Component } from 'react';\nimport { Table, Button, Row, Col, ButtonGroup } from 'reactstrap';\nimport Navi from \"./Navigation\";\nimport TopBar from \"./TopBar\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst Recipedata = props => React.createElement(\"tr\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}, React.createElement(\"a\", {\n  href: \"/Recipe/\" + props.username + \"/\" + props.password,\n  onClick: () => {\n    props.addRecipe(props.recipedata.label, props.food, props.username);\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12\n  },\n  __self: this\n}, props.food.recipe.label)), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15\n  },\n  __self: this\n}, React.createElement(\"img\", {\n  src: props.food.recipe.image,\n  height: \"200\",\n  width: \"200\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15\n  },\n  __self: this\n})), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}, props.food.recipe.source), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}, React.createElement(Link, {\n  to: \"/edit/\" + props.food._id,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18\n  },\n  __self: this\n}, \"edit\"), \" |\", \" \", React.createElement(\"a\", {\n  href: \"/create\",\n  onClick: () => {\n    props.deleteItems(props.food._id);\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19\n  },\n  __self: this\n}, \"delete\")));\n\nexport default class Recipe extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSearch = this.onChangeSearch.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.deleteItems = this.deleteItems.bind(this);\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    this.state = {\n      creator: params.id,\n      password: params.password,\n      searches: \"\",\n      recipedata: [],\n      newrecipedata: [],\n      newRecipes: [],\n      recipename: \"\",\n      recipeCalories: \"\",\n      recipeCarbs: \"\",\n      recipeFat: \"\",\n      recipeProtein: \"\",\n      addedRecipe: \"\",\n      ingredients: [],\n      recipeImage: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const {\n      match: {\n        params\n      }\n    } = this.props; //console.log({itemid});\n\n    var search = encodeURI(params.search);\n    var fat = encodeURI(`nutrients[FAT]=${params.fat}`);\n    var sugar = encodeURI(`nutrients[SUGAR]=${params.sugar}`);\n    var carbs = encodeURI(`nutrients[CHOCDF]=${params.carbs}`);\n    axios.get(`https://api.edamam.com/search?q=${search}&app_id=b53160ee&app_key=5d9984e95c5c6968d5edfb7d02c83b46&from=0&to=10&calories=0-${params.calories}&${fat}&${carbs}&${sugar}`).then(response => {\n      let newrec = [];\n      this.setState({\n        recipedata: response.data.hits\n      });\n      console.log(this.state.recipedata);\n      this.state.recipedata.map(currentfood => {\n        console.log(currentfood.recipe.label);\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  onChangeSearch(e) {\n    this.setState({\n      searches: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    axios.get(\"https://api.edamam.com/search?q=chicken&app_id=b53160ee&app_key=5d9984e95c5c6968d5edfb7d02c83b46&from=0&to=3&calories=591-722&health=alcohol-free\").then(response => {\n      let newrec = [];\n      var label; //console.log(response.data);\n\n      this.setState({\n        recipedata: response.data.hits\n      });\n      console.log(this.state.recipedata);\n      /*    this.state.newrecipedata.map(currentfood=>{\r\n          console.log(currentfood.recipe.label);\r\n          label = currentfood.recipe.label;\r\n          console.log(label);\r\n            currentfood.recipe.ingredients.map(currentingredient=>{\r\n            console.log(currentingredient.text);\r\n            newrec.push(currentingredient.text);\r\n            console.log(newrec);\r\n            })\r\n            })\r\n        console.log(newrec);\r\n        this.setState({\r\n          newRecipes: newrec\r\n        })*/\n      //console.log(this.state.newRecipes);\n\n      this.searchedRecipes();\n    });\n    /*console.log(recipe);\r\n    axios\r\n      .post(\"http://localhost:8080/recipedata/add\", recipe)\r\n      .then(res => console.log(res.data));\r\n    */\n  }\n\n  addRecipe(name, recipedata, user) {\n    console.log(recipedata);\n    var ingred = \"\";\n    const newR = {\n      ingredients: [],\n      recipeName: \"\",\n      recipeImage: \"\",\n      recipeCalories: \"\",\n      recipeCarbs: \"\",\n      recipeSugar: \"\",\n      creator: user\n    }; //const {match:{params}} = this.props;\n\n    newR.recipeName = recipedata.recipe.label;\n    newR.recipeImage = recipedata.recipe.image;\n    newR.recipeCalories = recipedata.recipe.calories;\n    recipedata.recipe.ingredients.map(currentingredient => {\n      ingred = currentingredient.text;\n      newR.ingredients.push(ingred);\n      console.log(newR.ingredients);\n    });\n    /*\r\n    \r\n    \r\n              const newR = {\r\n                recipeName : this.state.recipename,\r\n                ingredients : this.state.newrec,\r\n              }\r\n    \r\n    \r\n              console.log(newR);\r\n    */\n\n    console.log(newR);\n    axios.post(\"http://localhost:8080/recipedata/add\", newR).then(res => console.log(res.data));\n  }\n\n  deleteItems(id) {\n    axios.delete(\"http://localhost:8080/recipedata/\" + id).then(res => console.log(res.data));\n    this.setState({\n      recipedata: this.state.recipedata.filter(el => el._id !== id)\n    });\n  }\n\n  searchedRecipes() {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    return this.state.recipedata.map(currentfood => {\n      return React.createElement(Recipedata, {\n        recipedata: this.state.recipedata,\n        password: this.state.password,\n        username: params.id,\n        food: currentfood,\n        deleteItems: this.deleteItems,\n        addRecipe: this.addRecipe,\n        key: currentfood._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(TopBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"Recipes\")), React.createElement(Table, {\n      hover: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"Recipe\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Image\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Source\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Actions\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, this.searchedRecipes())), React.createElement(\"div\", {\n      className: \"listItem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"invBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"itemName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, \"Banana\"), React.createElement(Col, {\n      className: \"expire\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, \"3/15\"), React.createElement(Col, {\n      className: \"quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, \"4\"), React.createElement(Col, {\n      className: \"actions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      className: \"invBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"itemName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"Beef Shank\"), React.createElement(Col, {\n      className: \"expire\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"4/8\"), React.createElement(Col, {\n      className: \"quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"1\"), React.createElement(Col, {\n      className: \"actions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      className: \"invBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"itemName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"Kiwi\"), React.createElement(Col, {\n      className: \"expire\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"9/1\"), React.createElement(Col, {\n      className: \"quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"6\"), React.createElement(Col, {\n      className: \"actions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      className: \"invBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"itemName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, \"Bread\"), React.createElement(Col, {\n      className: \"expire\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, \"2/10\"), React.createElement(Col, {\n      className: \"quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, \"12\"), React.createElement(Col, {\n      className: \"actions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      className: \"invBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"itemName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, \"Tomato\"), React.createElement(Col, {\n      className: \"expire\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, \"6/24\"), React.createElement(Col, {\n      className: \"quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, \"3\"), React.createElement(Col, {\n      className: \"actions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    })))), React.createElement(ButtonGroup, {\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(Button, {\n      href: \"/create\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(Button, {\n      href: \"/create\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"Scan\"), React.createElement(Button, {\n      href: \"/create\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, \"Eat\")), React.createElement(Navi, {\n      username: this.state.creator,\n      password: this.state.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Antwong/Documents/temp/csc648-03-sp20-team102/application/team102/UI/src/Component/addRecipe.js"],"names":["React","Component","Table","Button","Row","Col","ButtonGroup","Navi","TopBar","Link","axios","Recipedata","props","username","password","addRecipe","recipedata","label","food","recipe","image","source","_id","deleteItems","Recipe","constructor","onChangeSearch","bind","onSubmit","match","params","state","creator","id","searches","newrecipedata","newRecipes","recipename","recipeCalories","recipeCarbs","recipeFat","recipeProtein","addedRecipe","ingredients","recipeImage","componentDidMount","search","encodeURI","fat","sugar","carbs","get","calories","then","response","newrec","setState","data","hits","console","log","map","currentfood","catch","error","e","target","value","preventDefault","searchedRecipes","name","user","ingred","newR","recipeName","recipeSugar","currentingredient","text","push","post","res","delete","filter","el","render"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\r\nimport {Table, Button, Row, Col, ButtonGroup} from 'reactstrap';\r\nimport Navi from \"./Navigation\";\r\nimport TopBar from \"./TopBar\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst Recipedata = props => (\r\n  <tr>\r\n\r\n  <td>\r\n  <a href={\"/Recipe/\"+ props.username+\"/\"+props.password} onClick={()=>{props.addRecipe(props.recipedata.label,props.food,props.username)\r\n  }}\r\n  >{props.food.recipe.label}</a></td>\r\n    <td><img src={props.food.recipe.image} height=\"200\" width=\"200\"></img></td>\r\n    <td>{props.food.recipe.source}</td>\r\n    <td>\r\n      <Link to={\"/edit/\" + props.food._id}>edit</Link> |{\" \"}\r\n      <a\r\n        href=\"/create\"\r\n        onClick={() => {\r\n          props.deleteItems(props.food._id);\r\n        }}\r\n      >\r\n        delete\r\n      </a>\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nexport default class Recipe extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangeSearch = this.onChangeSearch.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.deleteItems = this.deleteItems.bind(this);\r\n    const {match:{params}} = this.props;\r\n\r\n    this.state = {\r\n      creator: params.id,\r\n      password: params.password,\r\n      searches: \"\",\r\n      recipedata: [],\r\n      newrecipedata: [],\r\n      newRecipes: [],\r\n      recipename: \"\",\r\n      recipeCalories: \"\",\r\n      recipeCarbs: \"\",\r\n      recipeFat: \"\",\r\n      recipeProtein: \"\",\r\n      addedRecipe: \"\",\r\n      ingredients: [],\r\n      recipeImage:\"\"\r\n\r\n\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {match:{params}} = this.props;\r\n\r\n    //console.log({itemid});\r\n    var search = encodeURI(params.search);\r\n    var fat = encodeURI(`nutrients[FAT]=${params.fat}`);\r\n    var sugar = encodeURI(`nutrients[SUGAR]=${params.sugar}`);\r\n    var carbs = encodeURI(`nutrients[CHOCDF]=${params.carbs}`);\r\n    axios\r\n      .get(`https://api.edamam.com/search?q=${search}&app_id=b53160ee&app_key=5d9984e95c5c6968d5edfb7d02c83b46&from=0&to=10&calories=0-${params.calories}&${fat}&${carbs}&${sugar}`)\r\n      .then(response => {\r\n        let newrec = [];\r\n        this.setState({ recipedata: response.data.hits });\r\n        console.log(this.state.recipedata);\r\n        this.state.recipedata.map(currentfood=>{\r\n          console.log(currentfood.recipe.label);\r\n        })\r\n\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onChangeSearch(e) {\r\n    this.setState({\r\n      searches: e.target.value\r\n    });\r\n  }\r\n\r\n  onSubmit(e){\r\n    e.preventDefault();\r\n\r\n\r\n        axios\r\n          .get(\"https://api.edamam.com/search?q=chicken&app_id=b53160ee&app_key=5d9984e95c5c6968d5edfb7d02c83b46&from=0&to=3&calories=591-722&health=alcohol-free\")\r\n          .then(response => {\r\n            let newrec = [];\r\n            var label;\r\n            //console.log(response.data);\r\n              this.setState({\r\n              recipedata:response.data.hits});\r\n              console.log(this.state.recipedata);\r\n\r\n          /*    this.state.newrecipedata.map(currentfood=>{\r\n              console.log(currentfood.recipe.label);\r\n              label = currentfood.recipe.label;\r\n              console.log(label);\r\n\r\n              currentfood.recipe.ingredients.map(currentingredient=>{\r\n                console.log(currentingredient.text);\r\n                newrec.push(currentingredient.text);\r\n                console.log(newrec);\r\n\r\n              })\r\n\r\n\r\n            })\r\n            console.log(newrec);\r\n            this.setState({\r\n              newRecipes: newrec\r\n            })*/\r\n            //console.log(this.state.newRecipes);\r\n            this.searchedRecipes();\r\n          })\r\n\r\n          /*console.log(recipe);\r\n          axios\r\n            .post(\"http://localhost:8080/recipedata/add\", recipe)\r\n            .then(res => console.log(res.data));\r\n*/\r\n}\r\n\r\naddRecipe(name, recipedata,user){\r\n  console.log(recipedata);\r\n  var ingred=\"\";\r\n  const newR={\r\n           ingredients:[],\r\n           recipeName:\"\",\r\n           recipeImage:\"\",\r\n           recipeCalories: \"\",\r\n           recipeCarbs:\"\",\r\n           recipeSugar:\"\",\r\n           creator:user,\r\n\r\n};\r\n          //const {match:{params}} = this.props;\r\n\r\n          newR.recipeName= recipedata.recipe.label;\r\n          newR.recipeImage=recipedata.recipe.image;\r\n          newR.recipeCalories = recipedata.recipe.calories;\r\n\r\n          recipedata.recipe.ingredients.map(currentingredient=>{\r\n                ingred = currentingredient.text;\r\n                newR.ingredients.push(ingred);\r\n                console.log(newR.ingredients);\r\n\r\n\r\n              })\r\n\r\n\r\n/*\r\n\r\n\r\n          const newR = {\r\n            recipeName : this.state.recipename,\r\n            ingredients : this.state.newrec,\r\n          }\r\n\r\n\r\n          console.log(newR);\r\n*/\r\n\r\n        console.log(newR);\r\n       axios\r\n          .post(\"http://localhost:8080/recipedata/add\", newR)\r\n          .then(res => console.log(res.data));\r\n\r\n};\r\n\r\n\r\ndeleteItems(id) {\r\n  axios\r\n    .delete(\"http://localhost:8080/recipedata/\" + id)\r\n    .then(res => console.log(res.data));\r\n  this.setState({\r\n    recipedata: this.state.recipedata.filter(el => el._id !== id)\r\n  });\r\n}\r\n\r\nsearchedRecipes() {\r\n  const {match:{params}} = this.props;\r\n\r\n  return this.state.recipedata.map(currentfood => {\r\n\r\n      return (\r\n        <Recipedata\r\n          recipedata={this.state.recipedata}\r\n          password={this.state.password}\r\n\r\n          username={params.id}\r\n          food={currentfood}\r\n          deleteItems={this.deleteItems}\r\n          addRecipe = {this.addRecipe}\r\n          key={currentfood._id}\r\n          />\r\n        );\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n  render(){\r\n\r\n\r\n    return (\r\n      <div><TopBar/>\r\n      <br/><br/><br/>\r\n      <div><h1>Recipes</h1></div>\r\n      <Table hover>\r\n        <thead>\r\n          <tr>\r\n            <th>Recipe</th>\r\n            <th>Image</th>\r\n            <th>Source</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {this.searchedRecipes()}\r\n        </tbody>\r\n      </Table>\r\n      <div className=\"listItem\">\r\n      <Button className=\"invBar\"><Row>\r\n        <Col className=\"itemName\">Banana</Col><Col className=\"expire\">3/15</Col><Col className=\"quantity\">4</Col><Col className=\"actions\"></Col>\r\n      </Row></Button>\r\n      <Button className=\"invBar\"><Row>\r\n        <Col className=\"itemName\">Beef Shank</Col><Col className=\"expire\">4/8</Col><Col className=\"quantity\">1</Col><Col className=\"actions\"></Col>\r\n      </Row></Button>\r\n      <Button className=\"invBar\"><Row>\r\n        <Col className=\"itemName\">Kiwi</Col><Col className=\"expire\">9/1</Col><Col className=\"quantity\">6</Col><Col className=\"actions\"></Col>\r\n      </Row></Button>\r\n      <Button className=\"invBar\"><Row>\r\n        <Col className=\"itemName\">Bread</Col><Col className=\"expire\">2/10</Col><Col className=\"quantity\">12</Col><Col className=\"actions\"></Col>\r\n      </Row></Button>\r\n      <Button className=\"invBar\"><Row>\r\n        <Col className=\"itemName\">Tomato</Col><Col className=\"expire\">6/24</Col><Col className=\"quantity\">3</Col><Col className=\"actions\"></Col>\r\n      </Row></Button></div>\r\n      <ButtonGroup size='lg'>\r\n        <Button href=\"/create\">Delete</Button>\r\n        <Button href=\"/create\">Scan</Button>\r\n        <Button href=\"/create\">Eat</Button>\r\n      </ButtonGroup>\r\n      <Navi username={this.state.creator} password={this.state.password} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}