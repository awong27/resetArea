{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Antwong\\\\Documents\\\\temp\\\\csc648-03-sp20-team102\\\\application\\\\team102\\\\UI\\\\src\\\\Component\\\\create-fooddata.component.js\";\nimport React, { Component } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport axios from \"axios\"; //import Navi from \"./Navigation\";\n//import TopBar from \"./TopBar\";\n\nimport { FormGroup, Label, Form, Input, Button, ButtonGroup, Row, Col } from \"reactstrap\";\nexport default class Create extends Component {\n  constructor(props) {\n    super(props);\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    this.onChangeFoodname = this.onChangeFoodname.bind(this);\n    this.onChangeExpirationdate = this.onChangeExpirationdate.bind(this);\n    this.onChangeCalories = this.onChangeCalories.bind(this);\n    this.onChangeCarbs = this.onChangeCarbs.bind(this);\n    this.onChangeNumberOfItems = this.onChangeNumberOfItems.bind(this);\n    this.onChangeSugar = this.onChangeSugar.bind(this);\n    this.onChangeFat = this.onChangeFat.bind(this);\n    this.onChangeProtein = this.onChangeProtein.bind(this);\n    this.onAddList = this.onAddList.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      foodname: \"\",\n      expirationdate: new Date(),\n      calories: \"\",\n      numberOfItems: \"1\",\n      carbs: \"\",\n      sugar: \"\",\n      fat: \"\",\n      protein: \"\",\n      sodium: \"\",\n      foods: [],\n      userdata: [],\n      addList: [],\n      password: params.password,\n      username: params.id,\n      count: 0\n    };\n  } // change activations for prop states\n\n\n  onChangeFoodname(e) {\n    this.setState({\n      foodname: e.target.value\n    });\n  }\n\n  onChangeExpirationdate(date) {\n    this.setState({\n      expirationdate: date\n    });\n  }\n\n  onChangeCalories(e) {\n    this.setState({\n      calories: e\n    });\n  }\n\n  onChangeNumberOfItems(e) {\n    this.setState({\n      numberOfItems: e.target.value\n    });\n  }\n\n  onChangeCarbs(e) {\n    this.setState({\n      carbs: e\n    });\n  }\n\n  onChangeSugar(e) {\n    this.setState({\n      sugar: e\n    });\n  }\n\n  onChangeFat(e) {\n    this.setState({\n      fat: e\n    });\n  }\n\n  onChangeProtein(e) {\n    this.setState({\n      protein: e\n    });\n  }\n\n  onChangeSodium(e) {\n    this.setState({\n      sodium: e\n    });\n  }\n\n  onAddList(n, e, q) {\n    const list = this.state.addList.concat(n.target.value, e, q);\n    this.setState({\n      addList: list\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    axios\n    /* Searches food name param in Api returns all types matching\r\n     * foods -> array going to be loaded with first result info\r\n     * has all nutrition facts\r\n     */\n    .get(\"https://api.nal.usda.gov/fdc/v1/foods/search?api_key=ldLF1ky8NkwmcLnTDvqDoSjul1eanGZ1o6vZ2Q9u&query=\" + this.state.foodname).then(response => {\n      console.log(response.data.foods[0].foodNutrients[0]);\n      this.setState({\n        foods: response.data.foods[0].foodNutrients\n      });\n      /* Searches array for matching nutrient name, only exact \r\n       * calls funct to change value once found\r\n       */\n\n      this.state.foods.map(currentfood => {\n        console.log(currentfood.nutrientName, currentfood.value);\n        console.log(currentfood.value);\n\n        if (currentfood.nutrientName === 'Energy') {\n          this.onChangeCalories(Math.round(currentfood.value));\n        } else if (currentfood.nutrientName === 'Carbohydrate, by difference') {\n          this.onChangeCarbs(Math.round(currentfood.value));\n        } else if (currentfood.nutrientName === 'Total lipid (fat)') {\n          this.onChangeFat(Math.round(currentfood.value));\n        } else if (currentfood.nutrientName === 'Protein') {\n          this.onChangeProtein(Math.round(currentfood.value));\n        } else if (currentfood.nutrientName === 'Sugars, total including NLEA') {\n          this.onChangeSugar(Math.round(currentfood.value));\n        } else if (currentfood.nutrientName === 'Sodium, Na') {\n          this.onChangeSodium(Math.round(currentfood.value));\n        }\n      });\n      /* adds all values into a temp list\r\n       * sends to backend to be added to personal id food list\r\n       */\n\n      const food = {\n        foodName: this.state.foodname,\n        expirationDate: this.state.expirationdate,\n        calories: this.state.calories,\n        numOfItems: this.state.numberOfItems,\n        carbs: this.state.carbs,\n        protein: this.state.protein,\n        fat: this.state.fat,\n        sugar: this.state.sugar,\n        sodium: this.state.sodium\n      };\n      console.log(food);\n      this.onAddList(this.state.foodname, this.state.expirationdate, this.state.numberOfItems);\n      axios.post(\"/fooddata/add\", food).then(res => console.log(res.data));\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  AddList() {\n    return React.createElement(React.Fragment, null, this.state.addList.map((n, e, q) => React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(Col, {\n      key: n,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, n), React.createElement(Col, {\n      key: e,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, e), React.createElement(Col, {\n      key: q,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, q))));\n  }\n\n  render() {\n    var inv = \"/inventory/\" + this.state.username + \"/\" + this.state.password;\n    return React.createElement(\"div\", {\n      style: {\n        padding: '5%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Create New Food Items\"), this.AddList(), React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"foodName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Food Name:\"), React.createElement(Input, {\n      type: \"text\",\n      required: true,\n      placeholder: \"What Food Are You Looking For?\",\n      value: this.state.foodname,\n      onChange: this.onChangeFoodname,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    })), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"ExpDate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Exp. Date:\"), React.createElement(DatePicker, {\n      required: true,\n      selected: this.state.expirationdate,\n      onChange: this.onChangeExpirationdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"qty\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Quantity:\"), React.createElement(Input, {\n      type: \"select\",\n      style: {\n        height: 'auto',\n        width: 'auto'\n      },\n      value: this.state.numberOfItems,\n      onChange: this.onChangeNumberOfItems,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"1\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"2\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"3\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"3\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"5\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"6\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"7\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"8\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"9\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"10\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"11\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"12\"))))), React.createElement(Button, {\n      size: \"lg\",\n      className: \"SignSpace form-control input\",\n      type: \"submit\",\n      value: \"Create food\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \" Submit \")), React.createElement(ButtonGroup, {\n      size: \"lg\",\n      className: \"SignSpace\",\n      style: {\n        boxSizing: 'content-box'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(Button, {\n      href: inv,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Go Back\"), React.createElement(Button, {\n      className: \"lightState\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Create\"), React.createElement(Button, {\n      href: \"/scan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Scan\")));\n  }\n\n}\n/**\r\n *\r\n *\r\n */","map":{"version":3,"sources":["C:/Users/Antwong/Documents/temp/csc648-03-sp20-team102/application/team102/UI/src/Component/create-fooddata.component.js"],"names":["React","Component","DatePicker","axios","FormGroup","Label","Form","Input","Button","ButtonGroup","Row","Col","Create","constructor","props","match","params","onChangeFoodname","bind","onChangeExpirationdate","onChangeCalories","onChangeCarbs","onChangeNumberOfItems","onChangeSugar","onChangeFat","onChangeProtein","onAddList","onSubmit","state","foodname","expirationdate","Date","calories","numberOfItems","carbs","sugar","fat","protein","sodium","foods","userdata","addList","password","username","id","count","e","setState","target","value","date","onChangeSodium","n","q","list","concat","preventDefault","get","then","response","console","log","data","foodNutrients","map","currentfood","nutrientName","Math","round","food","foodName","expirationDate","numOfItems","post","res","catch","error","AddList","render","inv","padding","height","width","boxSizing"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport axios from \"axios\";\r\n//import Navi from \"./Navigation\";\r\n//import TopBar from \"./TopBar\";\r\nimport { FormGroup, Label, Form, Input, Button, ButtonGroup, Row, Col } from \"reactstrap\";\r\n\r\nexport default class Create extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { match: { params } } = this.props;\r\n    this.onChangeFoodname = this.onChangeFoodname.bind(this);\r\n    this.onChangeExpirationdate = this.onChangeExpirationdate.bind(this);\r\n    this.onChangeCalories = this.onChangeCalories.bind(this);\r\n    this.onChangeCarbs = this.onChangeCarbs.bind(this);\r\n    this.onChangeNumberOfItems = this.onChangeNumberOfItems.bind(this);\r\n    this.onChangeSugar = this.onChangeSugar.bind(this);\r\n    this.onChangeFat = this.onChangeFat.bind(this);\r\n    this.onChangeProtein = this.onChangeProtein.bind(this);\r\n    this.onAddList = this.onAddList.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.state = {\r\n      foodname: \"\",\r\n      expirationdate: new Date(),\r\n      calories: \"\",\r\n      numberOfItems: \"1\",\r\n      carbs: \"\",\r\n      sugar: \"\",\r\n      fat: \"\",\r\n      protein: \"\",\r\n      sodium: \"\",\r\n      foods: [],\r\n      userdata: [],\r\n      addList: [],\r\n      password: params.password,\r\n      username: params.id,\r\n      count: 0\r\n    };\r\n  }\r\n  // change activations for prop states\r\n  onChangeFoodname(e) { this.setState({ foodname: e.target.value }); }\r\n  onChangeExpirationdate(date) { this.setState({ expirationdate: date }); }\r\n  onChangeCalories(e) { this.setState({ calories: e }); }\r\n  onChangeNumberOfItems(e) { this.setState({ numberOfItems: e.target.value }); }\r\n  onChangeCarbs(e) { this.setState({ carbs: e }); }\r\n  onChangeSugar(e) { this.setState({ sugar: e }); }\r\n  onChangeFat(e) { this.setState({ fat: e }); }\r\n  onChangeProtein(e) { this.setState({ protein: e}); }\r\n  onChangeSodium(e) { this.setState({ sodium: e }); }\r\n  onAddList(n,e,q){\r\n    const list = this.state.addList.concat(n.target.value,e,q);\r\n    this.setState({addList: list})\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    axios\r\n      /* Searches food name param in Api returns all types matching\r\n       * foods -> array going to be loaded with first result info\r\n       * has all nutrition facts\r\n       */\r\n      .get(\"https://api.nal.usda.gov/fdc/v1/foods/search?api_key=ldLF1ky8NkwmcLnTDvqDoSjul1eanGZ1o6vZ2Q9u&query=\" + this.state.foodname)\r\n      .then(response => {\r\n        console.log(response.data.foods[0].foodNutrients[0]);\r\n        this.setState({\r\n          foods: response.data.foods[0].foodNutrients\r\n        });\r\n        /* Searches array for matching nutrient name, only exact \r\n         * calls funct to change value once found\r\n         */\r\n        this.state.foods.map(currentfood => {\r\n          console.log(currentfood.nutrientName, currentfood.value);\r\n          console.log(currentfood.value);\r\n          if (currentfood.nutrientName === 'Energy') {\r\n            this.onChangeCalories(Math.round(currentfood.value));\r\n          } else if (currentfood.nutrientName === 'Carbohydrate, by difference') {\r\n            this.onChangeCarbs(Math.round(currentfood.value));\r\n          } else if (currentfood.nutrientName === 'Total lipid (fat)') {\r\n            this.onChangeFat(Math.round(currentfood.value));\r\n          } else if (currentfood.nutrientName === 'Protein') {\r\n            this.onChangeProtein(Math.round(currentfood.value));\r\n          } else if (currentfood.nutrientName === 'Sugars, total including NLEA') {\r\n            this.onChangeSugar(Math.round(currentfood.value));\r\n          } else if (currentfood.nutrientName === 'Sodium, Na') {\r\n            this.onChangeSodium(Math.round(currentfood.value));\r\n          }\r\n        })\r\n        /* adds all values into a temp list\r\n         * sends to backend to be added to personal id food list\r\n         */\r\n        const food = {\r\n          foodName: this.state.foodname,\r\n          expirationDate: this.state.expirationdate,\r\n          calories: this.state.calories,\r\n          numOfItems: this.state.numberOfItems,\r\n          carbs: this.state.carbs,\r\n          protein: this.state.protein,\r\n          fat: this.state.fat,\r\n          sugar: this.state.sugar,\r\n          sodium: this.state.sodium\r\n        };\r\n        console.log(food);\r\n        this.onAddList(this.state.foodname,this.state.expirationdate,this.state.numberOfItems);\r\n        axios\r\n          .post(\"/fooddata/add\", food)\r\n          .then(res => console.log(res.data));\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n  AddList() {\r\n    return(<>\r\n      {this.state.addList.map((n,e,q) => (\r\n        <Row>\r\n          <Col key={n}>{n}</Col><Col key={e}>{e}</Col><Col key={q}>{q}</Col>\r\n        </Row>\r\n      ))}</>\r\n    );\r\n  }\r\n  render() {\r\n    var inv = \"/inventory/\" + this.state.username + \"/\" + this.state.password\r\n    return (<div style={{padding: '5%'}}><h3>Create New Food Items</h3> \r\n      {this.AddList()}\r\n      <Form onSubmit={this.onSubmit}>        \r\n        <FormGroup >\r\n          <Label for=\"foodName\">Food Name:</Label>\r\n          <Input\r\n            type=\"text\"\r\n            required\r\n            placeholder=\"What Food Are You Looking For?\"\r\n            value={this.state.foodname}\r\n            onChange={this.onChangeFoodname} />\r\n        </FormGroup>\r\n        <Row> \r\n          <Col >\r\n            <FormGroup>\r\n              <Label for=\"ExpDate\">Exp. Date:</Label>\r\n              <DatePicker\r\n                required\r\n                selected={this.state.expirationdate}\r\n                onChange={this.onChangeExpirationdate} />\r\n            </FormGroup>\r\n          </Col> \r\n          <Col >\r\n            <FormGroup>\r\n              <Label for=\"qty\">Quantity:</Label>\r\n              <Input\r\n                type=\"select\"\r\n                style={{height: 'auto', width: 'auto'}}\r\n                value={this.state.numberOfItems}\r\n                onChange={this.onChangeNumberOfItems}>\r\n                <option>1</option>\r\n                <option>2</option>\r\n                <option>3</option>\r\n                <option>3</option>\r\n                <option>5</option>\r\n                <option>6</option>\r\n                <option>7</option>\r\n                <option>8</option>\r\n                <option>9</option>\r\n                <option>10</option>\r\n                <option>11</option>\r\n                <option>12</option>\r\n              </Input>\r\n            </FormGroup>\r\n          </Col>\r\n        </Row><Button size='lg' className=\"SignSpace form-control input\" type=\"submit\" value=\"Create food\"> Submit </Button>\r\n      </Form>\r\n      \r\n      <ButtonGroup size='lg' className=\"SignSpace\" style={{boxSizing: 'content-box'}}>\r\n        <Button href={inv}>Go Back</Button>\r\n        <Button className=\"lightState\" >Create</Button>\r\n        <Button href=\"/scan\" >Scan</Button>\r\n      </ButtonGroup>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n/**\r\n *\r\n *\r\n */"]},"metadata":{},"sourceType":"module"}