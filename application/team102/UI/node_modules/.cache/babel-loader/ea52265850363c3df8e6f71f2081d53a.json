{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Antwong\\\\Documents\\\\temp\\\\csc648-03-sp20-team102\\\\application\\\\team102\\\\UI\\\\src\\\\Component\\\\addRecipe.js\";\nimport React, { Component } from 'react';\nimport { Table, Button, Row, Col, ButtonGroup } from 'reactstrap';\nimport Navi from \"./Navigation\";\nimport TopBar from \"./TopBar\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst Recipedata = props => React.createElement(\"tr\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}, React.createElement(\"a\", {\n  href: \"/Recipe/\" + props.username + \"/\" + props.password,\n  onClick: () => {\n    props.addRecipe(props.recipedata.label, props.food, props.username);\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12\n  },\n  __self: this\n}, props.food.recipe.label)), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}, React.createElement(\"img\", {\n  src: props.food.recipe.image,\n  height: \"200\",\n  width: \"200\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n})), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}, props.food.recipe.source), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18\n  },\n  __self: this\n}, React.createElement(Link, {\n  to: \"/edit/\" + props.food._id,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19\n  },\n  __self: this\n}, \"edit\"), \" |\", \" \", React.createElement(\"a\", {\n  href: \"/create\",\n  onClick: () => {\n    props.deleteItems(props.food._id);\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20\n  },\n  __self: this\n}, \"delete\")));\n\nexport default class Recipe extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSearch = this.onChangeSearch.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.deleteItems = this.deleteItems.bind(this);\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    this.state = {\n      creator: params.id,\n      password: params.password,\n      searches: \"\",\n      recipedata: [],\n      newrecipedata: [],\n      newRecipes: [],\n      recipename: \"\",\n      recipeCalories: \"\",\n      recipeCarbs: \"\",\n      recipeFat: \"\",\n      recipeProtein: \"\",\n      addedRecipe: \"\",\n      ingredients: [],\n      recipeImage: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const {\n      match: {\n        params\n      }\n    } = this.props; //console.log({itemid});\n\n    var search = encodeURI(params.search);\n    var fat = encodeURI(`nutrients[FAT]=${params.fat}`);\n    var sugar = encodeURI(`nutrients[SUGAR]=${params.sugar}`);\n    var carbs = encodeURI(`nutrients[CHOCDF]=${params.carbs}`);\n    axios.get(`https://api.edamam.com/search?q=${search}&app_id=b53160ee&app_key=5d9984e95c5c6968d5edfb7d02c83b46&from=0&to=10&calories=0-${params.calories}&${fat}&${carbs}&${sugar}`).then(response => {\n      let newrec = [];\n      this.setState({\n        recipedata: response.data.hits\n      });\n      console.log(this.state.recipedata);\n      this.state.recipedata.map(currentfood => {\n        console.log(currentfood.recipe.label);\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  onChangeSearch(e) {\n    this.setState({\n      searches: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    axios.get(\"https://api.edamam.com/search?q=chicken&app_id=b53160ee&app_key=5d9984e95c5c6968d5edfb7d02c83b46&from=0&to=3&calories=591-722&health=alcohol-free\").then(response => {\n      let newrec = [];\n      var label; //console.log(response.data);\n\n      this.setState({\n        recipedata: response.data.hits\n      });\n      console.log(this.state.recipedata);\n      /*    this.state.newrecipedata.map(currentfood=>{\r\n          console.log(currentfood.recipe.label);\r\n          label = currentfood.recipe.label;\r\n          console.log(label);\r\n          currentfood.recipe.ingredients.map(currentingredient=>{\r\n            console.log(currentingredient.text);\r\n            newrec.push(currentingredient.text);\r\n            console.log(newrec);\r\n          })\r\n        })\r\n        console.log(newrec);\r\n        this.setState({\r\n          newRecipes: newrec\r\n        })*/\n      //console.log(this.state.newRecipes);\n\n      this.searchedRecipes();\n    });\n    /*console.log(recipe);\r\n    axios\r\n      .post(\"http://localhost:8080/recipedata/add\", recipe)\r\n      .then(res => console.log(res.data));*/\n  }\n\n  addRecipe(name, recipedata, user) {\n    console.log(recipedata);\n    var ingred = \"\";\n    const newR = {\n      ingredients: [],\n      recipeName: \"\",\n      recipeImage: \"\",\n      recipeCalories: \"\",\n      recipeCarbs: \"\",\n      recipeSugar: \"\",\n      creator: user\n    }; //const {match:{params}} = this.props;\n\n    newR.recipeName = recipedata.recipe.label;\n    newR.recipeImage = recipedata.recipe.image;\n    newR.recipeCalories = recipedata.recipe.calories;\n    recipedata.recipe.ingredients.map(currentingredient => {\n      ingred = currentingredient.text;\n      newR.ingredients.push(ingred);\n      console.log(newR.ingredients);\n    });\n    /* \r\n              const newR = {\r\n                recipeName : this.state.recipename,\r\n                ingredients : this.state.newrec,\r\n              } \r\n              console.log(newR);\r\n    */\n\n    console.log(newR);\n    axios.post(\"http://localhost:8080/recipedata/add\", newR).then(res => console.log(res.data));\n  }\n\n  deleteItems(id) {\n    axios.delete(\"http://localhost:8080/recipedata/\" + id).then(res => console.log(res.data));\n    this.setState({\n      recipedata: this.state.recipedata.filter(el => el._id !== id)\n    });\n  }\n\n  searchedRecipes() {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    return this.state.recipedata.map(currentfood => {\n      return React.createElement(Recipedata, {\n        recipedata: this.state.recipedata,\n        password: this.state.password,\n        username: params.id,\n        food: currentfood,\n        deleteItems: this.deleteItems,\n        addRecipe: this.addRecipe,\n        key: currentfood._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(TopBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Recipes\")), React.createElement(Table, {\n      hover: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Recipe\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Image\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Source\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"Actions\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, this.searchedRecipes())), React.createElement(\"div\", {\n      className: \"listItem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"invBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"itemName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Banana\"), React.createElement(Col, {\n      className: \"expire\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"3/15\"), React.createElement(Col, {\n      className: \"quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"4\"), React.createElement(Col, {\n      className: \"actions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      className: \"invBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"itemName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Beef Shank\"), React.createElement(Col, {\n      className: \"expire\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"4/8\"), React.createElement(Col, {\n      className: \"quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"1\"), React.createElement(Col, {\n      className: \"actions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      className: \"invBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"itemName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Kiwi\"), React.createElement(Col, {\n      className: \"expire\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"9/1\"), React.createElement(Col, {\n      className: \"quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"6\"), React.createElement(Col, {\n      className: \"actions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      className: \"invBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"itemName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"Bread\"), React.createElement(Col, {\n      className: \"expire\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"2/10\"), React.createElement(Col, {\n      className: \"quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"12\"), React.createElement(Col, {\n      className: \"actions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      className: \"invBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"itemName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"Tomato\"), React.createElement(Col, {\n      className: \"expire\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"6/24\"), React.createElement(Col, {\n      className: \"quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"3\"), React.createElement(Col, {\n      className: \"actions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    })))), React.createElement(ButtonGroup, {\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(Button, {\n      href: \"/create\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(Button, {\n      href: \"/create\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"Scan\"), React.createElement(Button, {\n      href: \"/create\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"Eat\")), React.createElement(Navi, {\n      username: this.state.creator,\n      password: this.state.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Antwong/Documents/temp/csc648-03-sp20-team102/application/team102/UI/src/Component/addRecipe.js"],"names":["React","Component","Table","Button","Row","Col","ButtonGroup","Navi","TopBar","Link","axios","Recipedata","props","username","password","addRecipe","recipedata","label","food","recipe","image","source","_id","deleteItems","Recipe","constructor","onChangeSearch","bind","onSubmit","match","params","state","creator","id","searches","newrecipedata","newRecipes","recipename","recipeCalories","recipeCarbs","recipeFat","recipeProtein","addedRecipe","ingredients","recipeImage","componentDidMount","search","encodeURI","fat","sugar","carbs","get","calories","then","response","newrec","setState","data","hits","console","log","map","currentfood","catch","error","e","target","value","preventDefault","searchedRecipes","name","user","ingred","newR","recipeName","recipeSugar","currentingredient","text","push","post","res","delete","filter","el","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,GAAxB,EAA6BC,GAA7B,EAAkCC,WAAlC,QAAqD,YAArD;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,UAAU,GAAGC,KAAK,IACtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAG,EAAA,IAAI,EAAE,aAAaA,KAAK,CAACC,QAAnB,GAA8B,GAA9B,GAAoCD,KAAK,CAACE,QAAnD;AAA6D,EAAA,OAAO,EAAE,MAAM;AAC1EF,IAAAA,KAAK,CAACG,SAAN,CAAgBH,KAAK,CAACI,UAAN,CAAiBC,KAAjC,EAAwCL,KAAK,CAACM,IAA9C,EAAoDN,KAAK,CAACC,QAA1D;AACD,GAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAGED,KAAK,CAACM,IAAN,CAAWC,MAAX,CAAkBF,KAHpB,CADF,CAFF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAI;AAAK,EAAA,GAAG,EAAEL,KAAK,CAACM,IAAN,CAAWC,MAAX,CAAkBC,KAA5B;AAAmC,EAAA,MAAM,EAAC,KAA1C;AAAgD,EAAA,KAAK,EAAC,KAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAJ,CAPF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAKR,KAAK,CAACM,IAAN,CAAWC,MAAX,CAAkBE,MAAvB,CARF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE,oBAAC,IAAD;AAAM,EAAA,EAAE,EAAE,WAAWT,KAAK,CAACM,IAAN,CAAWI,GAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,QACqD,GADrD,EAEE;AACE,EAAA,IAAI,EAAC,SADP;AAEE,EAAA,OAAO,EAAE,MAAM;AACbV,IAAAA,KAAK,CAACW,WAAN,CAAkBX,KAAK,CAACM,IAAN,CAAWI,GAA7B;AACD,GAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,CATF,CADF;;AAwBA,eAAe,MAAME,MAAN,SAAqBvB,SAArB,CAA+B;AAE5CwB,EAAAA,WAAW,CAACb,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKc,cAAL,GAAsB,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKJ,WAAL,GAAmB,KAAKA,WAAL,CAAiBI,IAAjB,CAAsB,IAAtB,CAAnB;AACA,UAAM;AAAEE,MAAAA,KAAK,EAAE;AAAEC,QAAAA;AAAF;AAAT,QAAwB,KAAKlB,KAAnC;AACA,SAAKmB,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAEF,MAAM,CAACG,EADL;AAEXnB,MAAAA,QAAQ,EAAEgB,MAAM,CAAChB,QAFN;AAGXoB,MAAAA,QAAQ,EAAE,EAHC;AAIXlB,MAAAA,UAAU,EAAE,EAJD;AAKXmB,MAAAA,aAAa,EAAE,EALJ;AAMXC,MAAAA,UAAU,EAAE,EAND;AAOXC,MAAAA,UAAU,EAAE,EAPD;AAQXC,MAAAA,cAAc,EAAE,EARL;AASXC,MAAAA,WAAW,EAAE,EATF;AAUXC,MAAAA,SAAS,EAAE,EAVA;AAWXC,MAAAA,aAAa,EAAE,EAXJ;AAYXC,MAAAA,WAAW,EAAE,EAZF;AAaXC,MAAAA,WAAW,EAAE,EAbF;AAcXC,MAAAA,WAAW,EAAE;AAdF,KAAb;AAgBD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAM;AAAEhB,MAAAA,KAAK,EAAE;AAAEC,QAAAA;AAAF;AAAT,QAAwB,KAAKlB,KAAnC,CADkB,CAElB;;AACA,QAAIkC,MAAM,GAAGC,SAAS,CAACjB,MAAM,CAACgB,MAAR,CAAtB;AACA,QAAIE,GAAG,GAAGD,SAAS,CAAE,kBAAiBjB,MAAM,CAACkB,GAAI,EAA9B,CAAnB;AACA,QAAIC,KAAK,GAAGF,SAAS,CAAE,oBAAmBjB,MAAM,CAACmB,KAAM,EAAlC,CAArB;AACA,QAAIC,KAAK,GAAGH,SAAS,CAAE,qBAAoBjB,MAAM,CAACoB,KAAM,EAAnC,CAArB;AACAxC,IAAAA,KAAK,CACFyC,GADH,CACQ,mCAAkCL,MAAO,qFAAoFhB,MAAM,CAACsB,QAAS,IAAGJ,GAAI,IAAGE,KAAM,IAAGD,KAAM,EAD9K,EAEGI,IAFH,CAEQC,QAAQ,IAAI;AAChB,UAAIC,MAAM,GAAG,EAAb;AACA,WAAKC,QAAL,CAAc;AAAExC,QAAAA,UAAU,EAAEsC,QAAQ,CAACG,IAAT,CAAcC;AAA5B,OAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAK7B,KAAL,CAAWf,UAAvB;AACA,WAAKe,KAAL,CAAWf,UAAX,CAAsB6C,GAAtB,CAA0BC,WAAW,IAAI;AACvCH,QAAAA,OAAO,CAACC,GAAR,CAAYE,WAAW,CAAC3C,MAAZ,CAAmBF,KAA/B;AACD,OAFD;AAGD,KATH,EAUG8C,KAVH,CAUSC,KAAK,IAAI;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACD,KAZH;AAaD;;AACDtC,EAAAA,cAAc,CAACuC,CAAD,EAAI;AAChB,SAAKT,QAAL,CAAc;AACZtB,MAAAA,QAAQ,EAAE+B,CAAC,CAACC,MAAF,CAASC;AADP,KAAd;AAGD;;AACDvC,EAAAA,QAAQ,CAACqC,CAAD,EAAI;AACVA,IAAAA,CAAC,CAACG,cAAF;AACA1D,IAAAA,KAAK,CACFyC,GADH,CACO,mJADP,EAEGE,IAFH,CAEQC,QAAQ,IAAI;AAChB,UAAIC,MAAM,GAAG,EAAb;AACA,UAAItC,KAAJ,CAFgB,CAGhB;;AACA,WAAKuC,QAAL,CAAc;AACZxC,QAAAA,UAAU,EAAEsC,QAAQ,CAACG,IAAT,CAAcC;AADd,OAAd;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAK7B,KAAL,CAAWf,UAAvB;AACA;;;;;;;;;;;;;;AAcA;;AACA,WAAKqD,eAAL;AACD,KA1BH;AA2BA;;;;AAID;;AACDtD,EAAAA,SAAS,CAACuD,IAAD,EAAOtD,UAAP,EAAmBuD,IAAnB,EAAyB;AAChCZ,IAAAA,OAAO,CAACC,GAAR,CAAY5C,UAAZ;AACA,QAAIwD,MAAM,GAAG,EAAb;AACA,UAAMC,IAAI,GAAG;AACX9B,MAAAA,WAAW,EAAE,EADF;AAEX+B,MAAAA,UAAU,EAAE,EAFD;AAGX9B,MAAAA,WAAW,EAAE,EAHF;AAIXN,MAAAA,cAAc,EAAE,EAJL;AAKXC,MAAAA,WAAW,EAAE,EALF;AAMXoC,MAAAA,WAAW,EAAE,EANF;AAOX3C,MAAAA,OAAO,EAAEuC;AAPE,KAAb,CAHgC,CAYhC;;AACAE,IAAAA,IAAI,CAACC,UAAL,GAAkB1D,UAAU,CAACG,MAAX,CAAkBF,KAApC;AACAwD,IAAAA,IAAI,CAAC7B,WAAL,GAAmB5B,UAAU,CAACG,MAAX,CAAkBC,KAArC;AACAqD,IAAAA,IAAI,CAACnC,cAAL,GAAsBtB,UAAU,CAACG,MAAX,CAAkBiC,QAAxC;AACApC,IAAAA,UAAU,CAACG,MAAX,CAAkBwB,WAAlB,CAA8BkB,GAA9B,CAAkCe,iBAAiB,IAAI;AACrDJ,MAAAA,MAAM,GAAGI,iBAAiB,CAACC,IAA3B;AACAJ,MAAAA,IAAI,CAAC9B,WAAL,CAAiBmC,IAAjB,CAAsBN,MAAtB;AACAb,MAAAA,OAAO,CAACC,GAAR,CAAYa,IAAI,CAAC9B,WAAjB;AACD,KAJD;AAKA;;;;;;;;AAOAgB,IAAAA,OAAO,CAACC,GAAR,CAAYa,IAAZ;AACA/D,IAAAA,KAAK,CACFqE,IADH,CACQ,sCADR,EACgDN,IADhD,EAEGpB,IAFH,CAEQ2B,GAAG,IAAIrB,OAAO,CAACC,GAAR,CAAYoB,GAAG,CAACvB,IAAhB,CAFf;AAGD;;AACDlC,EAAAA,WAAW,CAACU,EAAD,EAAK;AACdvB,IAAAA,KAAK,CACFuE,MADH,CACU,sCAAsChD,EADhD,EAEGoB,IAFH,CAEQ2B,GAAG,IAAIrB,OAAO,CAACC,GAAR,CAAYoB,GAAG,CAACvB,IAAhB,CAFf;AAGA,SAAKD,QAAL,CAAc;AACZxC,MAAAA,UAAU,EAAE,KAAKe,KAAL,CAAWf,UAAX,CAAsBkE,MAAtB,CAA6BC,EAAE,IAAIA,EAAE,CAAC7D,GAAH,KAAWW,EAA9C;AADA,KAAd;AAGD;;AACDoC,EAAAA,eAAe,GAAG;AAChB,UAAM;AAAExC,MAAAA,KAAK,EAAE;AAAEC,QAAAA;AAAF;AAAT,QAAwB,KAAKlB,KAAnC;AACA,WAAO,KAAKmB,KAAL,CAAWf,UAAX,CAAsB6C,GAAtB,CAA0BC,WAAW,IAAI;AAC9C,aACE,oBAAC,UAAD;AACE,QAAA,UAAU,EAAE,KAAK/B,KAAL,CAAWf,UADzB;AAEE,QAAA,QAAQ,EAAE,KAAKe,KAAL,CAAWjB,QAFvB;AAIE,QAAA,QAAQ,EAAEgB,MAAM,CAACG,EAJnB;AAKE,QAAA,IAAI,EAAE6B,WALR;AAME,QAAA,WAAW,EAAE,KAAKvC,WANpB;AAOE,QAAA,SAAS,EAAE,KAAKR,SAPlB;AAQE,QAAA,GAAG,EAAE+C,WAAW,CAACxC,GARnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAYD,KAbM,CAAP;AAcD;;AACD8D,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAL,EACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADR,EACc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADd,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAL,CAFF,EAGE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJF,CADF,CADF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKf,eAAL,EADH,CATF,CAHF,EAgBE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2B,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACzB,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADyB,EACa,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADb,EAC+C,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAD/C,EACgF,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADhF,CAA3B,CADF,EAIE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2B,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACzB,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADyB,EACiB,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADjB,EACkD,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADlD,EACmF,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADnF,CAA3B,CAJF,EAOE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2B,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACzB,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADyB,EACW,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADX,EAC4C,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAD5C,EAC6E,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD7E,CAA3B,CAPF,EAUE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2B,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACzB,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADyB,EACY,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADZ,EAC8C,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAD9C,EACgF,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADhF,CAA3B,CAVF,EAaE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2B,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACzB,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADyB,EACa,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADb,EAC+C,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAD/C,EACgF,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADhF,CAA3B,CAbF,CAhBF,EAgCE,oBAAC,WAAD;AAAa,MAAA,IAAI,EAAC,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,EAGE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHF,CAhCF,EAqCE,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKtC,KAAL,CAAWC,OAA3B;AAAoC,MAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWjB,QAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArCF,CADF;AAyCD;;AA1L2C","sourcesContent":["import React, { Component } from 'react';\r\nimport { Table, Button, Row, Col, ButtonGroup } from 'reactstrap';\r\nimport Navi from \"./Navigation\";\r\nimport TopBar from \"./TopBar\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst Recipedata = props => (\r\n  <tr>\r\n\r\n    <td>\r\n      <a href={\"/Recipe/\" + props.username + \"/\" + props.password} onClick={() => {\r\n        props.addRecipe(props.recipedata.label, props.food, props.username)\r\n      }}\r\n      >{props.food.recipe.label}</a></td>\r\n    <td><img src={props.food.recipe.image} height=\"200\" width=\"200\"></img></td>\r\n    <td>{props.food.recipe.source}</td>\r\n    <td>\r\n      <Link to={\"/edit/\" + props.food._id}>edit</Link> |{\" \"}\r\n      <a\r\n        href=\"/create\"\r\n        onClick={() => {\r\n          props.deleteItems(props.food._id);\r\n        }}\r\n      >\r\n        delete\r\n      </a>\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nexport default class Recipe extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangeSearch = this.onChangeSearch.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.deleteItems = this.deleteItems.bind(this);\r\n    const { match: { params } } = this.props;\r\n    this.state = {\r\n      creator: params.id,\r\n      password: params.password,\r\n      searches: \"\",\r\n      recipedata: [],\r\n      newrecipedata: [],\r\n      newRecipes: [],\r\n      recipename: \"\",\r\n      recipeCalories: \"\",\r\n      recipeCarbs: \"\",\r\n      recipeFat: \"\",\r\n      recipeProtein: \"\",\r\n      addedRecipe: \"\",\r\n      ingredients: [],\r\n      recipeImage: \"\"\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { match: { params } } = this.props;\r\n    //console.log({itemid});\r\n    var search = encodeURI(params.search);\r\n    var fat = encodeURI(`nutrients[FAT]=${params.fat}`);\r\n    var sugar = encodeURI(`nutrients[SUGAR]=${params.sugar}`);\r\n    var carbs = encodeURI(`nutrients[CHOCDF]=${params.carbs}`);\r\n    axios\r\n      .get(`https://api.edamam.com/search?q=${search}&app_id=b53160ee&app_key=5d9984e95c5c6968d5edfb7d02c83b46&from=0&to=10&calories=0-${params.calories}&${fat}&${carbs}&${sugar}`)\r\n      .then(response => {\r\n        let newrec = [];\r\n        this.setState({ recipedata: response.data.hits });\r\n        console.log(this.state.recipedata);\r\n        this.state.recipedata.map(currentfood => {\r\n          console.log(currentfood.recipe.label);\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n  onChangeSearch(e) {\r\n    this.setState({\r\n      searches: e.target.value\r\n    });\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    axios\r\n      .get(\"https://api.edamam.com/search?q=chicken&app_id=b53160ee&app_key=5d9984e95c5c6968d5edfb7d02c83b46&from=0&to=3&calories=591-722&health=alcohol-free\")\r\n      .then(response => {\r\n        let newrec = [];\r\n        var label;\r\n        //console.log(response.data);\r\n        this.setState({\r\n          recipedata: response.data.hits\r\n        });\r\n        console.log(this.state.recipedata);\r\n        /*    this.state.newrecipedata.map(currentfood=>{\r\n            console.log(currentfood.recipe.label);\r\n            label = currentfood.recipe.label;\r\n            console.log(label);\r\n            currentfood.recipe.ingredients.map(currentingredient=>{\r\n              console.log(currentingredient.text);\r\n              newrec.push(currentingredient.text);\r\n              console.log(newrec);\r\n            })\r\n          })\r\n          console.log(newrec);\r\n          this.setState({\r\n            newRecipes: newrec\r\n          })*/\r\n        //console.log(this.state.newRecipes);\r\n        this.searchedRecipes();\r\n      })\r\n    /*console.log(recipe);\r\n    axios\r\n      .post(\"http://localhost:8080/recipedata/add\", recipe)\r\n      .then(res => console.log(res.data));*/\r\n  }\r\n  addRecipe(name, recipedata, user) {\r\n    console.log(recipedata);\r\n    var ingred = \"\";\r\n    const newR = {\r\n      ingredients: [],\r\n      recipeName: \"\",\r\n      recipeImage: \"\",\r\n      recipeCalories: \"\",\r\n      recipeCarbs: \"\",\r\n      recipeSugar: \"\",\r\n      creator: user,\r\n    };\r\n    //const {match:{params}} = this.props;\r\n    newR.recipeName = recipedata.recipe.label;\r\n    newR.recipeImage = recipedata.recipe.image;\r\n    newR.recipeCalories = recipedata.recipe.calories;\r\n    recipedata.recipe.ingredients.map(currentingredient => {\r\n      ingred = currentingredient.text;\r\n      newR.ingredients.push(ingred);\r\n      console.log(newR.ingredients);\r\n    })\r\n    /* \r\n              const newR = {\r\n                recipeName : this.state.recipename,\r\n                ingredients : this.state.newrec,\r\n              } \r\n              console.log(newR);\r\n    */\r\n    console.log(newR);\r\n    axios\r\n      .post(\"http://localhost:8080/recipedata/add\", newR)\r\n      .then(res => console.log(res.data));\r\n  };\r\n  deleteItems(id) {\r\n    axios\r\n      .delete(\"http://localhost:8080/recipedata/\" + id)\r\n      .then(res => console.log(res.data));\r\n    this.setState({\r\n      recipedata: this.state.recipedata.filter(el => el._id !== id)\r\n    });\r\n  }\r\n  searchedRecipes() {\r\n    const { match: { params } } = this.props;\r\n    return this.state.recipedata.map(currentfood => {\r\n      return (\r\n        <Recipedata\r\n          recipedata={this.state.recipedata}\r\n          password={this.state.password}\r\n\r\n          username={params.id}\r\n          food={currentfood}\r\n          deleteItems={this.deleteItems}\r\n          addRecipe={this.addRecipe}\r\n          key={currentfood._id}\r\n        />\r\n      );\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div><TopBar />\r\n        <br /><br /><br />\r\n        <div><h1>Recipes</h1></div>\r\n        <Table hover>\r\n          <thead>\r\n            <tr>\r\n              <th>Recipe</th>\r\n              <th>Image</th>\r\n              <th>Source</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.searchedRecipes()}\r\n          </tbody>\r\n        </Table>\r\n        <div className=\"listItem\">\r\n          <Button className=\"invBar\"><Row>\r\n            <Col className=\"itemName\">Banana</Col><Col className=\"expire\">3/15</Col><Col className=\"quantity\">4</Col><Col className=\"actions\"></Col>\r\n          </Row></Button>\r\n          <Button className=\"invBar\"><Row>\r\n            <Col className=\"itemName\">Beef Shank</Col><Col className=\"expire\">4/8</Col><Col className=\"quantity\">1</Col><Col className=\"actions\"></Col>\r\n          </Row></Button>\r\n          <Button className=\"invBar\"><Row>\r\n            <Col className=\"itemName\">Kiwi</Col><Col className=\"expire\">9/1</Col><Col className=\"quantity\">6</Col><Col className=\"actions\"></Col>\r\n          </Row></Button>\r\n          <Button className=\"invBar\"><Row>\r\n            <Col className=\"itemName\">Bread</Col><Col className=\"expire\">2/10</Col><Col className=\"quantity\">12</Col><Col className=\"actions\"></Col>\r\n          </Row></Button>\r\n          <Button className=\"invBar\"><Row>\r\n            <Col className=\"itemName\">Tomato</Col><Col className=\"expire\">6/24</Col><Col className=\"quantity\">3</Col><Col className=\"actions\"></Col>\r\n          </Row></Button></div>\r\n        <ButtonGroup size='lg'>\r\n          <Button href=\"/create\">Delete</Button>\r\n          <Button href=\"/create\">Scan</Button>\r\n          <Button href=\"/create\">Eat</Button>\r\n        </ButtonGroup>\r\n        <Navi username={this.state.creator} password={this.state.password} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}